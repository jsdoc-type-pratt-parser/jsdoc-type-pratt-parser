<!doctype html>
<html class="default no-js">
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<title>jsdoc-type-pratt-parser</title>
	<meta name="description" content="Documentation for jsdoc-type-pratt-parser">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link rel="stylesheet" href="assets/css/main.css">
	<script async src="assets/js/search.js" id="search-script"></script>
</head>
<body>
<header>
	<div class="tsd-page-toolbar">
		<div class="container">
			<div class="table-wrap">
				<div class="table-cell" id="tsd-search" data-index="assets/js/search.json" data-base=".">
					<div class="field">
						<label for="tsd-search-field" class="tsd-widget search no-caption">Search</label>
						<input id="tsd-search-field" type="text" />
					</div>
					<ul class="results">
						<li class="state loading">Preparing search index...</li>
						<li class="state failure">The search index is not available</li>
					</ul>
					<a href="index.html" class="title">jsdoc-type-pratt-parser</a>
				</div>
				<div class="table-cell" id="tsd-widgets">
					<div id="tsd-filter">
						<a href="#" class="tsd-widget options no-caption" data-toggle="options">Options</a>
						<div class="tsd-filter-group">
							<div class="tsd-select" id="tsd-filter-visibility">
								<span class="tsd-select-label">All</span>
								<ul class="tsd-select-list">
									<li data-value="public">Public</li>
									<li data-value="protected">Public/Protected</li>
									<li data-value="private" class="selected">All</li>
								</ul>
							</div>
							<input type="checkbox" id="tsd-filter-inherited" checked />
							<label class="tsd-widget" for="tsd-filter-inherited">Inherited</label>
							<input type="checkbox" id="tsd-filter-externals" checked />
							<label class="tsd-widget" for="tsd-filter-externals">Externals</label>
						</div>
					</div>
					<a href="#" class="tsd-widget menu no-caption" data-toggle="menu">Menu</a>
				</div>
			</div>
		</div>
	</div>
	<div class="tsd-page-title">
		<div class="container">
			<h1>jsdoc-type-pratt-parser</h1>
		</div>
	</div>
</header>
<div class="container container-main">
	<div class="row">
		<div class="col-8 col-content">
			<div class="tsd-panel tsd-typography">
				<p><a href="https://github.com/simonseyock/jsdoc-type-pratt-parser/actions?query=branch%3Amain"><img src="https://github.com/simonseyock/jsdoc-type-pratt-parser/actions/workflows/node.js.yml/badge.svg?branch=main" alt="Test Status"></a>
					<a href="https://www.npmjs.com/package/jsdoc-type-pratt-parser"><img src="https://badgen.net/npm/v/jsdoc-type-pratt-parser" alt="Npm Package"></a>
				<a href="https://github.com/standard/ts-standard"><img src="https://badgen.net/badge/code%20style/ts-standard/blue?icon=typescript" alt="Code Style"></a></p>
				<p>This project is a parser for jsdoc types. It is heavily inspired by the existing libraries catharsis and
				jsdoctypeparser, but does not use PEG.js, but is written as a pratt parser. </p>
				<ul>
					<li><a href="http://journal.stuffwithstuff.com/2011/03/19/pratt-parsers-expression-parsing-made-easy/">http://journal.stuffwithstuff.com/2011/03/19/pratt-parsers-expression-parsing-made-easy/</a></li>
					<li><a href="https://github.com/hegemonic/catharsis">https://github.com/hegemonic/catharsis</a></li>
					<li><a href="https://github.com/jsdoctypeparser/jsdoctypeparser">https://github.com/jsdoctypeparser/jsdoctypeparser</a></li>
				</ul>
				<a href="#live-demo" id="live-demo" style="color: inherit; text-decoration: none;">
					<h2>Live Demo</h2>
				</a>
				<p>Simple live demo can be found at: <a href="https://simonseyock.github.io/jsdoc-type-pratt-parser/">https://simonseyock.github.io/jsdoc-type-pratt-parser/</a></p>
				<a href="#getting-started" id="getting-started" style="color: inherit; text-decoration: none;">
					<h2>Getting started</h2>
				</a>
				<pre><code><span style="color: #001080">npm</span><span style="color: #000000"> </span><span style="color: #001080">install</span><span style="color: #000000"> </span><span style="color: #001080">jsdoc</span><span style="color: #000000">-</span><span style="color: #001080">type</span><span style="color: #000000">-</span><span style="color: #001080">pratt</span><span style="color: #000000">-</span><span style="color: #001080">parser</span>
</code></pre>
				<pre><code class="language-js"><span style="color: #AF00DB">import</span><span style="color: #000000"> { </span><span style="color: #001080">Parser</span><span style="color: #000000"> } </span><span style="color: #AF00DB">from</span><span style="color: #000000"> </span><span style="color: #A31515">&#039;jsdoc-type-pratt-parser&#039;</span>

<span style="color: #0000FF">const</span><span style="color: #000000"> </span><span style="color: #0070C1">parser</span><span style="color: #000000"> = </span><span style="color: #0000FF">new</span><span style="color: #000000"> </span><span style="color: #795E26">Parser</span><span style="color: #000000">({</span>
<span style="color: #000000">  </span><span style="color: #001080">mode:</span><span style="color: #000000"> </span><span style="color: #A31515">&#039;closure&#039;</span>
<span style="color: #000000">})</span>

<span style="color: #0000FF">const</span><span style="color: #000000"> </span><span style="color: #0070C1">result</span><span style="color: #000000"> = </span><span style="color: #001080">parser</span><span style="color: #000000">.</span><span style="color: #795E26">parse</span><span style="color: #000000">(</span><span style="color: #A31515">&#039;myType.&lt;string&gt;&#039;</span><span style="color: #000000">)</span>
</code></pre>
				<p>This library supports compatibility modes for catharsis and jsdoctypeparser. The provided transform functions attempt to
					transform the output to the expected output of the target library. This will not always be the same as some types are
					parsed differently. These modes are thought to make transition easier, but it is advised to use the native output as
				this will be more uniform and will contain more information.</p>
				<p>Catharsis compat mode:</p>
				<pre><code class="language-js"><span style="color: #AF00DB">import</span><span style="color: #000000"> { </span><span style="color: #001080">Parser</span><span style="color: #000000">, </span><span style="color: #001080">catharsisTransform</span><span style="color: #000000"> } </span><span style="color: #AF00DB">from</span><span style="color: #000000"> </span><span style="color: #A31515">&#039;jsdoc-type-pratt-parser&#039;</span>

<span style="color: #0000FF">const</span><span style="color: #000000"> </span><span style="color: #0070C1">parser</span><span style="color: #000000"> = </span><span style="color: #0000FF">new</span><span style="color: #000000"> </span><span style="color: #795E26">Parser</span><span style="color: #000000">({</span>
<span style="color: #000000">  </span><span style="color: #001080">mode:</span><span style="color: #000000"> </span><span style="color: #A31515">&#039;closure&#039;</span>
<span style="color: #000000">})</span>

<span style="color: #0000FF">const</span><span style="color: #000000"> </span><span style="color: #0070C1">result</span><span style="color: #000000"> = </span><span style="color: #795E26">catharsisTransform</span><span style="color: #000000">(</span><span style="color: #001080">parser</span><span style="color: #000000">.</span><span style="color: #795E26">parse</span><span style="color: #000000">(</span><span style="color: #A31515">&#039;myType.&lt;string&gt;&#039;</span><span style="color: #000000">))</span>
</code></pre>
				<p>Jsdoctypeparser compat mode:</p>
				<pre><code class="language-js"><span style="color: #AF00DB">import</span><span style="color: #000000"> { </span><span style="color: #001080">Parser</span><span style="color: #000000">, </span><span style="color: #001080">jtpTransform</span><span style="color: #000000"> } </span><span style="color: #AF00DB">from</span><span style="color: #000000"> </span><span style="color: #A31515">&#039;jsdoc-type-pratt-parser&#039;</span>

<span style="color: #0000FF">const</span><span style="color: #000000"> </span><span style="color: #0070C1">parser</span><span style="color: #000000"> = </span><span style="color: #0000FF">new</span><span style="color: #000000"> </span><span style="color: #795E26">Parser</span><span style="color: #000000">({</span>
<span style="color: #000000">  </span><span style="color: #001080">mode:</span><span style="color: #000000"> </span><span style="color: #A31515">&#039;closure&#039;</span>
<span style="color: #000000">})</span>

<span style="color: #0000FF">const</span><span style="color: #000000"> </span><span style="color: #0070C1">result</span><span style="color: #000000"> = </span><span style="color: #795E26">jtpTransform</span><span style="color: #000000">(</span><span style="color: #001080">parser</span><span style="color: #000000">.</span><span style="color: #795E26">parse</span><span style="color: #000000">(</span><span style="color: #A31515">&#039;myType.&lt;string&gt;&#039;</span><span style="color: #000000">))</span>
</code></pre>
				<p>Stringify:</p>
				<pre><code class="language-js"><span style="color: #AF00DB">import</span><span style="color: #000000"> { </span><span style="color: #001080">stringify</span><span style="color: #000000"> } </span><span style="color: #AF00DB">from</span><span style="color: #000000"> </span><span style="color: #A31515">&#039;jsdoc-type-pratt-parser&#039;</span>

<span style="color: #0000FF">const</span><span style="color: #000000"> </span><span style="color: #0070C1">val</span><span style="color: #000000"> = </span><span style="color: #795E26">stringify</span><span style="color: #000000">({ </span><span style="color: #001080">type:</span><span style="color: #000000"> </span><span style="color: #A31515">&#039;NAME&#039;</span><span style="color: #000000">, </span><span style="color: #001080">value:</span><span style="color: #000000"> </span><span style="color: #A31515">&#039;name&#039;</span><span style="color: #000000">}) </span><span style="color: #008000">// -&gt; &#039;name&#039;</span>
</code></pre>
				<p>You can customize the stringification by using <code>stringifyRules</code> and <code>transform</code>:</p>
				<pre><code class="language-js"><span style="color: #AF00DB">import</span><span style="color: #000000"> { </span><span style="color: #001080">stringifyRules</span><span style="color: #000000">, </span><span style="color: #001080">transform</span><span style="color: #000000"> } </span><span style="color: #AF00DB">from</span><span style="color: #000000"> </span><span style="color: #A31515">&#039;jsdoc-type-pratt-parser&#039;</span>

<span style="color: #0000FF">const</span><span style="color: #000000"> </span><span style="color: #0070C1">rules</span><span style="color: #000000"> = </span><span style="color: #795E26">stringifyRules</span><span style="color: #000000">()</span>

<span style="color: #008000">// `result` is the current node and `transform` is function to transform child nodes.</span>
<span style="color: #001080">rules</span><span style="color: #000000">.</span><span style="color: #795E26">NAME</span><span style="color: #000000"> = (</span><span style="color: #001080">result</span><span style="color: #000000">, </span><span style="color: #001080">transform</span><span style="color: #000000">) </span><span style="color: #0000FF">=&gt;</span><span style="color: #000000"> </span><span style="color: #A31515">&#039;something else&#039;</span>

<span style="color: #0000FF">const</span><span style="color: #000000"> </span><span style="color: #0070C1">val</span><span style="color: #000000"> = </span><span style="color: #795E26">transform</span><span style="color: #000000">(</span><span style="color: #001080">rules</span><span style="color: #000000">, { </span><span style="color: #001080">type:</span><span style="color: #000000"> </span><span style="color: #A31515">&#039;NAME&#039;</span><span style="color: #000000">, </span><span style="color: #001080">value:</span><span style="color: #000000"> </span><span style="color: #A31515">&#039;name&#039;</span><span style="color: #000000">}) </span><span style="color: #008000">// -&gt; &#039;something else&#039;</span>
</code></pre>
				<p>You can traverse a result tree with the <code>traverse</code> function:</p>
				<pre><code class="language-js"><span style="color: #AF00DB">import</span><span style="color: #000000"> { </span><span style="color: #001080">traverse</span><span style="color: #000000"> } </span><span style="color: #AF00DB">from</span><span style="color: #000000"> </span><span style="color: #A31515">&#039;jsdoc-type-pratt-parser&#039;</span>

<span style="color: #008000">// property is the name of the property on parent that contains node</span>
<span style="color: #0000FF">function</span><span style="color: #000000"> </span><span style="color: #795E26">onEnter</span><span style="color: #000000">(</span><span style="color: #001080">node</span><span style="color: #000000">, </span><span style="color: #001080">parent</span><span style="color: #000000">, </span><span style="color: #001080">property</span><span style="color: #000000">) {</span>
<span style="color: #000000">    </span><span style="color: #001080">console</span><span style="color: #000000">.</span><span style="color: #795E26">log</span><span style="color: #000000">(</span><span style="color: #001080">node</span><span style="color: #000000">.</span><span style="color: #001080">type</span><span style="color: #000000">)</span>
<span style="color: #000000">}</span>

<span style="color: #795E26">traverse</span><span style="color: #000000">({ </span><span style="color: #001080">type:</span><span style="color: #000000"> </span><span style="color: #A31515">&#039;NAME&#039;</span><span style="color: #000000">, </span><span style="color: #001080">value:</span><span style="color: #000000"> </span><span style="color: #A31515">&#039;name&#039;</span><span style="color: #000000">}, </span><span style="color: #001080">onEnter</span><span style="color: #000000">, </span><span style="color: #001080">console</span><span style="color: #000000">.</span><span style="color: #001080">log</span><span style="color: #000000">)</span>
<span style="color: #008000">// an onEnter and/or an onLeave function can be supplied</span>
</code></pre>
				<a href="#available-grammars" id="available-grammars" style="color: inherit; text-decoration: none;">
					<h2>Available Grammars</h2>
				</a>
				<p>Three different modes (grammars) are supported: <code>&#39;jsdoc&#39;</code>, <code>&#39;closure&#39;</code> and <code>&#39;typescript&#39;</code></p>
				<a href="#tests-status" id="tests-status" style="color: inherit; text-decoration: none;">
					<h2>Tests Status</h2>
				</a>
				<p>This parser runs most tests of <a href="https://github.com/hegemonic/catharsis">https://github.com/hegemonic/catharsis</a> and
					<a href="https://github.com/jsdoctypeparser/jsdoctypeparser">https://github.com/jsdoctypeparser/jsdoctypeparser</a>. It compares the results of the different parsing libraries. If you
					want to find out where the output differs, look in the tests for the comments <code>// This seems to be an error of ...</code> or
				the <code>differ</code> keyword which indicates that differing results are produced.</p>
				<a href="#api-documentation" id="api-documentation" style="color: inherit; text-decoration: none;">
					<h2>API Documentation</h2>
				</a>
				<p>An API documentation can be found here: <a href="https://simonseyock.github.io/jsdoc-type-pratt-parser/docs/modules.html">https://simonseyock.github.io/jsdoc-type-pratt-parser/docs/modules.html</a></p>
			</div>
		</div>
		<div class="col-4 col-menu menu-sticky-wrap menu-highlight">
			<nav class="tsd-navigation primary">
				<ul>
					<li class=" ">
						<a href="modules.html">Exports</a>
					</li>
				</ul>
			</nav>
			<nav class="tsd-navigation secondary menu-sticky">
				<ul class="before-current">
					<li class=" tsd-kind-class">
						<a href="classes/parser.html" class="tsd-kind-icon">Parser</a>
					</li>
					<li class=" tsd-kind-interface">
						<a href="interfaces/anyresult.html" class="tsd-kind-icon">Any<wbr>Result</a>
					</li>
					<li class=" tsd-kind-interface">
						<a href="interfaces/functionresult.html" class="tsd-kind-icon">Function<wbr>Result</a>
					</li>
					<li class=" tsd-kind-interface">
						<a href="interfaces/genericresult.html" class="tsd-kind-icon">Generic<wbr>Result</a>
					</li>
					<li class=" tsd-kind-interface">
						<a href="interfaces/importresult.html" class="tsd-kind-icon">Import<wbr>Result</a>
					</li>
					<li class=" tsd-kind-interface">
						<a href="interfaces/intersectionresult.html" class="tsd-kind-icon">Intersection<wbr>Result</a>
					</li>
					<li class=" tsd-kind-interface">
						<a href="interfaces/keyofresult.html" class="tsd-kind-icon">Key<wbr>OfResult</a>
					</li>
					<li class=" tsd-kind-interface tsd-has-type-parameter">
						<a href="interfaces/keyvalueresult.html" class="tsd-kind-icon">Key<wbr>Value<wbr>Result</a>
					</li>
					<li class=" tsd-kind-interface">
						<a href="interfaces/moduleresult.html" class="tsd-kind-icon">Module<wbr>Result</a>
					</li>
					<li class=" tsd-kind-interface">
						<a href="interfaces/namepathresult.html" class="tsd-kind-icon">Name<wbr>Path<wbr>Result</a>
					</li>
					<li class=" tsd-kind-interface">
						<a href="interfaces/nameresult.html" class="tsd-kind-icon">Name<wbr>Result</a>
					</li>
					<li class=" tsd-kind-interface tsd-has-type-parameter">
						<a href="interfaces/notnullableresult.html" class="tsd-kind-icon">Not<wbr>Nullable<wbr>Result</a>
					</li>
					<li class=" tsd-kind-interface">
						<a href="interfaces/nullresult.html" class="tsd-kind-icon">Null<wbr>Result</a>
					</li>
					<li class=" tsd-kind-interface tsd-has-type-parameter">
						<a href="interfaces/nullableresult.html" class="tsd-kind-icon">Nullable<wbr>Result</a>
					</li>
					<li class=" tsd-kind-interface">
						<a href="interfaces/numberresult.html" class="tsd-kind-icon">Number<wbr>Result</a>
					</li>
					<li class=" tsd-kind-interface">
						<a href="interfaces/objectresult.html" class="tsd-kind-icon">Object<wbr>Result</a>
					</li>
					<li class=" tsd-kind-interface tsd-has-type-parameter">
						<a href="interfaces/optionalresult.html" class="tsd-kind-icon">Optional<wbr>Result</a>
					</li>
					<li class=" tsd-kind-interface">
						<a href="interfaces/parameterlist.html" class="tsd-kind-icon">Parameter<wbr>List</a>
					</li>
					<li class=" tsd-kind-interface">
						<a href="interfaces/parenthesisresult.html" class="tsd-kind-icon">Parenthesis<wbr>Result</a>
					</li>
					<li class=" tsd-kind-interface">
						<a href="interfaces/parseroptions.html" class="tsd-kind-icon">Parser<wbr>Options</a>
					</li>
					<li class=" tsd-kind-interface">
						<a href="interfaces/stringvalueresult.html" class="tsd-kind-icon">String<wbr>Value<wbr>Result</a>
					</li>
					<li class=" tsd-kind-interface">
						<a href="interfaces/symbolresult.html" class="tsd-kind-icon">Symbol<wbr>Result</a>
					</li>
					<li class=" tsd-kind-interface">
						<a href="interfaces/tupleresult.html" class="tsd-kind-icon">Tuple<wbr>Result</a>
					</li>
					<li class=" tsd-kind-interface">
						<a href="interfaces/typeofresult.html" class="tsd-kind-icon">Type<wbr>OfResult</a>
					</li>
					<li class=" tsd-kind-interface">
						<a href="interfaces/undefinedresult.html" class="tsd-kind-icon">Undefined<wbr>Result</a>
					</li>
					<li class=" tsd-kind-interface">
						<a href="interfaces/unionresult.html" class="tsd-kind-icon">Union<wbr>Result</a>
					</li>
					<li class=" tsd-kind-interface">
						<a href="interfaces/unknownresult.html" class="tsd-kind-icon">Unknown<wbr>Result</a>
					</li>
					<li class=" tsd-kind-interface tsd-has-type-parameter">
						<a href="interfaces/variadicresult.html" class="tsd-kind-icon">Variadic<wbr>Result</a>
					</li>
					<li class=" tsd-kind-type-alias">
						<a href="modules.html#nonterminalresult" class="tsd-kind-icon">Non<wbr>Terminal<wbr>Result</a>
					</li>
					<li class=" tsd-kind-type-alias">
						<a href="modules.html#parseresult" class="tsd-kind-icon">Parse<wbr>Result</a>
					</li>
					<li class=" tsd-kind-type-alias">
						<a href="modules.html#parsermode" class="tsd-kind-icon">Parser<wbr>Mode</a>
					</li>
					<li class=" tsd-kind-type-alias tsd-has-type-parameter">
						<a href="modules.html#transformfunction" class="tsd-kind-icon">Transform<wbr>Function</a>
					</li>
					<li class=" tsd-kind-type-alias tsd-has-type-parameter">
						<a href="modules.html#transformrule" class="tsd-kind-icon">Transform<wbr>Rule</a>
					</li>
					<li class=" tsd-kind-type-alias tsd-has-type-parameter">
						<a href="modules.html#transformrules" class="tsd-kind-icon">Transform<wbr>Rules</a>
					</li>
					<li class=" tsd-kind-function">
						<a href="modules.html#catharsistransform" class="tsd-kind-icon">catharsis<wbr>Transform</a>
					</li>
					<li class=" tsd-kind-function">
						<a href="modules.html#jtptransform" class="tsd-kind-icon">jtp<wbr>Transform</a>
					</li>
					<li class=" tsd-kind-function">
						<a href="modules.html#stringify" class="tsd-kind-icon">stringify</a>
					</li>
					<li class=" tsd-kind-function">
						<a href="modules.html#stringifyrules" class="tsd-kind-icon">stringify<wbr>Rules</a>
					</li>
					<li class=" tsd-kind-function tsd-has-type-parameter">
						<a href="modules.html#transform" class="tsd-kind-icon">transform</a>
					</li>
				</ul>
			</nav>
		</div>
	</div>
</div>
<footer class="with-border-bottom">
	<div class="container">
		<h2>Legend</h2>
		<div class="tsd-legend-group">
			<ul class="tsd-legend">
				<li class="tsd-kind-constructor tsd-parent-kind-class"><span class="tsd-kind-icon">Constructor</span></li>
				<li class="tsd-kind-method tsd-parent-kind-class"><span class="tsd-kind-icon">Method</span></li>
			</ul>
			<ul class="tsd-legend">
				<li class="tsd-kind-property tsd-parent-kind-interface"><span class="tsd-kind-icon">Property</span></li>
			</ul>
			<ul class="tsd-legend">
				<li class="tsd-kind-property tsd-parent-kind-class tsd-is-private"><span class="tsd-kind-icon">Private property</span></li>
			</ul>
		</div>
	</div>
</footer>
<div class="container tsd-generator">
	<p>Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a></p>
</div>
<div class="overlay"></div>
<script src="assets/js/main.js"></script>
</body>
</html>